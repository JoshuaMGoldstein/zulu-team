<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container mt-5">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h1>Bot Management</h1>
            <div>
                <button id="edit-settings-button" class="btn btn-warning">Edit Settings</button>
                <button id="edit-roles-button" class="btn btn-info">Edit Roles</button>
                <button id="open-projects-button" class="btn btn-secondary">Edit Projects</button>
                <button id="add-bot" class="btn btn-primary">Add New Bot</button>
            </div>
        </div>
        <div id="bot-list" class="list-group"></div>
    </div>

    <!-- Bot Modal -->
    <div class="modal fade" id="bot-modal" tabindex="-1" aria-labelledby="botModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="botModalLabel">Edit Bot</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="bot-form">
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="bot-enabled">
                            <label class="form-check-label" for="bot-enabled">Enabled</label>
                        </div>
                        <div class="mb-3">
                            <label for="bot-id" class="form-label">ID</label>
                            <input type="text" class="form-control" id="bot-id" required>
                        </div>
                        <div class="mb-3">
                            <label for="bot-name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="bot-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="bot-role" class="form-label">Role</label>
                            <select class="form-select" id="bot-role" required>
                                <option value="developer">Developer</option>
                                <option value="project-manager">Project Manager</option>
                                <option value="qa">QA Engineer</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="bot-discordBotToken" class="form-label">Discord Bot Token</label>
                            <input type="text" class="form-control" id="bot-discordBotToken">
                        </div>
                        <div class="mb-3">
                            <label for="bot-discordChannelId" class="form-label">Discord Channel ID</label>
                            <input type="text" class="form-control" id="bot-discordChannelId">
                        </div>
                        <div class="mb-3">
                            <label for="bot-cli" class="form-label">CLI</label>
                            <select class="form-select" id="bot-cli" required>
                                <option value="gemini">Gemini</option>
                                <option value="claude">Claude</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="bot-model" class="form-label">Model</label>
                            <select class="form-select" id="bot-model" required></select>
                        </div>
                        <div class="mb-3">
                            <label for="bot-managedProjects" class="form-label">Managed Projects (comma-separated)</label>
                            <input type="text" class="form-control" id="bot-managedProjects">
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <div><strong>Status:</strong> <span id="bot-status" class="badge bg-secondary"></span></div>
                            <div><strong>Last Activity:</strong> <span id="bot-lastActivity"></span></div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" form="bot-form" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Project List Modal -->
    <div class="modal fade" id="project-list-modal" tabindex="-1" aria-labelledby="projectListModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="projectListModalLabel">Projects</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <button id="add-new-project-button" class="btn btn-primary mb-3">Add New Project</button>
                    <div id="project-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Editor Modal -->
    <div class="modal fade" id="project-editor-modal" tabindex="-1" aria-labelledby="projectEditorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="projectEditorModalLabel">Edit Project</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="project-form">
                        <div class="mb-3">
                            <label for="project-id" class="form-label">ID</label>
                            <input type="text" class="form-control" id="project-id" required>
                        </div>
                        <div class="mb-3">
                            <label for="project-name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="project-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="project-description" class="form-label">Description</label>
                            <textarea class="form-control" id="project-description" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="project-repositoryUrl" class="form-label">Repository URL</label>
                            <input type="text" class="form-control" id="project-repositoryUrl">
                        </div>
                        <div class="mb-3">
                            <label for="project-discordChannelIds" class="form-label">Discord Channel IDs (comma-separated)</label>
                            <input type="text" class="form-control" id="project-discordChannelIds">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" form="project-form" class="btn btn-primary">Save Project</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Role List Modal -->
    <div class="modal fade" id="role-list-modal" tabindex="-1" aria-labelledby="roleListModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="roleListModalLabel">Roles</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <button id="add-new-role-button" class="btn btn-primary mb-3">Add New Role</button>
                    <div id="role-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Role Editor Modal -->
    <div class="modal fade" id="role-editor-modal" tabindex="-1" aria-labelledby="roleEditorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="roleEditorModalLabel">Edit Role</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="role-form">
                        <div class="mb-3">
                            <label for="role-id" class="form-label">ID</label>
                            <input type="text" class="form-control" id="role-id" required>
                        </div>
                        <div class="mb-3">
                            <label for="role-name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="role-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="role-description" class="form-label">Description</label>
                            <textarea class="form-control" id="role-description" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="role-dmVerbosity" class="form-label">DM Verbosity</label>
                            <select class="form-select" id="role-dmVerbosity" required></select>
                        </div>
                        <div class="mb-3">
                            <label for="role-channelVerbosity" class="form-label">Channel Verbosity</label>
                            <select class="form-select" id="role-channelVerbosity" required></select>
                        </div>
                        <div class="mb-3">
                            <label for="role-delegatedVerbosity" class="form-label">Delegated Verbosity</label>
                            <select class="form-select" id="role-delegatedVerbosity" required></select>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="role-mountBotInstances">
                            <label class="form-check-label" for="role-mountBotInstances">Mount Bot Instances</label>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="role-allowDelegation">
                            <label class="form-check-label" for="role-allowDelegation">Allow Delegation</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" form="role-form" class="btn btn-primary">Save Role</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Editor Modal -->
    <div class="modal fade" id="settings-editor-modal" tabindex="-1" aria-labelledby="settingsEditorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="settingsEditorModalLabel">Edit Global Settings</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="settings-form">
                        <div class="mb-3">
                            <label for="dmVerbosity" class="form-label">DM Verbosity</label>
                            <select class="form-select" id="dmVerbosity" required></select>
                        </div>
                        <div class="mb-3">
                            <label for="channelVerbosity" class="form-label">Channel Verbosity</label>
                            <select class="form-select" id="channelVerbosity" required></select>
                        </div>
                        <div class="mb-3">
                            <label for="delegatedVerbosity" class="form-label">Delegated Verbosity</label>
                            <select class="form-select" id="delegatedVerbosity" required></select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" form="settings-form" class="btn btn-primary">Save Settings</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Template Editor Modal -->
    <div class="modal fade" id="template-editor-modal" tabindex="-1" aria-labelledby="templateEditorModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="templateEditorModalLabel">Edit Template</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="template-form">
                        <input type="hidden" id="template-role-id">
                        <div class="mb-3">
                            <label for="template-content" class="form-label">Template Content</label>
                            <textarea class="form-control" id="template-content" rows="20"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" form="template-form" class="btn btn-primary">Save Template</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <script src="script.js"></script>
</body>
</html>